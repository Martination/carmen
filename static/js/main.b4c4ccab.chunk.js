(this["webpackJsonpcaman-react"]=this["webpackJsonpcaman-react"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(13),r=n.n(s),i=n(6),l=n(0),o=n(3),j=n(14),u=n(10),b=n(9),d=n.n(b),g=n(1),m=function(e,t,n){e.target.value=t,e.target.name=e.target.attributes.name.value,n(e,t)},O=function(e){var t=e.filter,n=e.range,a=e.filterList,c=e.onChange,s=null!=n.min?n.min:-100,r=null!=n.max?n.max:100,i=n.step||1,l=n.init||0,o=null!=a[t]?a[t]:l;return Object(g.jsx)("div",{className:"col",children:Object(g.jsxs)("div",{className:"row gx-1 hover",children:[Object(g.jsx)("label",{name:t,className:"col-3",onClick:function(e){return m(e,l,c)},children:t}),Object(g.jsx)("div",{className:"col-8",children:Object(g.jsx)("input",{id:t,name:t,className:"form-range slider",type:"range",min:s,max:r,step:i,value:o,onChange:function(e){return c(e,l)}})}),Object(g.jsx)("span",{name:t,className:"col-1",onClick:function(e){return m(e,l,c)},children:o})]})})},f=window.Caman;function h(e){var t=e.preset,n=e.presetName,c=e.onClick,s=e.active,r=Object(a.useRef)(),i=r.current,l=u.a.getInstance(i);return l||(l=new u.a(i,{toggle:"button"})),Object(g.jsx)("div",{className:"col p-1 d-grid",children:Object(g.jsx)("button",{className:"btn btn-primary ".concat(s?"active":null),ref:r,id:t,onClick:function(e){c(e)},type:"button",children:"".concat(n)})})}function v(e){var t,n=e.presetList,a=e.onClick,c=["Vintage","Lomo","Clarity","Sin City","Sunrise","Cross Process","Orange Peel","Love","Grungy","Jarques","Pinhole","Old Boot","Glowing Sun","Hazy Days","Her Majesty","Nostalgia","Hemingway","Concentrate"],s=[],r=Object(j.a)(["vintage","lomo","clarity","sinCity","sunrise","crossProcess","orangePeel","love","grungy","jarques","pinhole","oldBoot","glowingSun","hazyDays","herMajesty","nostalgia","hemingway","concentrate"].entries());try{for(r.s();!(t=r.n()).done;){var i=Object(o.a)(t.value,2),l=i[0],u=i[1],b=!!n[u];s.push(Object(g.jsx)(h,{preset:u,presetName:c[l],onClick:a,active:b},u))}}catch(d){r.e(d)}finally{r.f()}return s}function p(e,t){for(var n={},a={min:-100,init:0,max:100},c=0,s=["brightness","contrast","vibrance","saturation","exposure"];c<s.length;c++){n[s[c]]=a}for(var r={min:0,init:0,max:100},i=0,o=["hue","sepia","noise","sharpen","clip"];i<o.length;i++){n[o[i]]=r}n=Object(l.a)(Object(l.a)({},n),{gamma:{min:0,init:1,max:10,step:.1}});var j=[];for(var u in n)j.push(Object(g.jsx)(O,{filter:u,range:n[u],filterList:e,onChange:t},u));return j}var x="WP.png",y="#canvas";f(y,x,(function(){this.render()}));var N=!1,w={},C={},S=0,k=function(){},E=d()((function(e){return k(e)}),1e3);f.Event.listen("processStart",(function(e){N=!0})),f.Event.listen("processComplete",(function(e){N=!1,S=0,JSON.stringify(w)!==JSON.stringify(C)&&E(C)}));var J=function(){k=J;var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({}),r=Object(o.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)({}),m=Object(o.a)(b,2),O=m[0],h=m[1],E=Object(a.useRef)(d()((function(e){return J(e)}),100));Object(a.useEffect)((function(){JSON.stringify(w)!==JSON.stringify(O)&&(N||(S&&(N=!0),E.current(O),S+=1))}),[O]),Object(a.useEffect)((function(){var e=Object(l.a)(Object(l.a)({},n),j);h(C=e)}),[j,n]);function J(e){w=e,f(y,(function(){for(var t in console.log("~~~~ UPDATE IMAGE ~~~~"),console.log(e),this.revert(!1),e){if(!this[t]){console.log("".concat(t," is not a valid filter."));var n=Object(l.a)({},e);return delete n[t],this.render(),void h(n)}this[t](e[t])}this.render()}))}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"edit-pane bg-gray container-lg text-center p-4 lh-1",children:Object(g.jsx)("img",{alt:"Editing Canvas",className:"img-fluid",id:"canvas",src:x})}),Object(g.jsx)("div",{id:"filterHolder",children:Object(g.jsxs)("div",{id:"filterList",className:"container overflow-hidden bg-dark text-center my-3 p-2",children:[Object(g.jsx)("div",{className:"row row-cols-1 row-cols-md-2 center",children:p(j,(function(e,t){var n,a=e.target.name,c=parseFloat(e.target.value);console.log("Updating",a),c===t?(console.log("Reset ".concat(a," to default")),delete(n=Object(l.a)({},j))[a]):n=Object(l.a)(Object(l.a)({},j),{},Object(i.a)({},a,c)),u(n)}))}),Object(g.jsx)("hr",{}),Object(g.jsx)("div",{className:"row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 m-1",children:Object(g.jsx)(v,{presetList:n,onClick:function(e){var t=e.target.id,a={};n[t]||(a[t]=1),c(a)}})}),Object(g.jsx)("hr",{}),Object(g.jsxs)("div",{className:"py-2",children:[Object(g.jsx)("button",{className:"btn btn-primary","data-bs-target":"#collapseTarget","data-bs-toggle":"collapse",children:"Toggle collapse"}),Object(g.jsx)("div",{className:"collapse",id:"collapseTarget",children:"This is the toggle-able content!"})]})]})})]})};var L=function(){return Object(g.jsxs)("div",{className:"App text-light",children:[Object(g.jsx)("div",{className:"container bg-dark px-4 py-1 my-3",children:Object(g.jsxs)("h1",{className:"text-primary display-2",children:[Object(g.jsx)("i",{className:"bi bi-image-fill"})," Caman + React"]})}),Object(g.jsx)(J,{})]})};n(32);r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(L,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b4c4ccab.chunk.js.map