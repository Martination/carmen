{"version":3,"sources":["components/ImgurAPI.js","components/Bootstrap.js","components/FilterListItem.js","components/CamanControls.js","142.jpg","components/CamanCanvas.js","App.js","index.js"],"names":["imageUrl","imgId","a","fetch","response","blob","data","name","getImg","imageId","setImgData","url","options","process","then","res","ok","status","stauts","Error","statusText","json","test","type","getAlbum","albumId","images","id","catch","err","console","error","PresetButton","preset","presetName","onClick","active","buttonRef","useRef","myButton","current","bsButton","Button","getInstance","toggle","className","ref","event","NotificationToast","toast","setToast","toastText","toastRef","useEffect","myToast","bsToast","Toast","show","hide","autohide","role","aria-live","aria-atomic","aria-label","resetValue","init","onChange","target","value","attributes","FilterListItem","filter","range","filterList","min","max","step","curValue","htmlFor","CreatePresetList","presetList","presetsPretty","buttonList","entries","index","isActive","push","CreateFilterList","rangeList","rangeFull","rangeHalf","filters","caman","window","Caman","isRendering","prevRenderList","curRenderList","backlog","updateImgFn","throttledEventListen","throttle","Event","listen","job","JSON","stringify","htmlCanvas","image","this","render","CamanCanvas","useState","setPresetList","setFilterList","adjustmentList","setAdjustmentList","presetToggle","setPresetToggle","filename","setFilename","imgurImgData","setImgurImgData","toastDisplay","toastInfo","setToastInfo","editPaneRef","imgurUrlRef","updateImage","throttled","newList","log","revert","setImage","file","reader","FileReader","readAsDataURL","onload","img","Image","src","result","canvas","firstChild","context","getContext","width","height","drawImage","removeAttribute","updateCanvas","form","regex","album","split","substring","match","message","uploadConfirmation","link","deletehash","displayLink","replace","href","rel","getImgBlob","alt","success","text","placeholder","aria-labelledby","required","newFilename","toDataURL","callback","toString","formData","FormData","Object","key","append","uploadImg","accept","files","document","createElement","download","e","MouseEvent","dispatchEvent","parseFloat","data-bs-target","data-bs-toggle","currentPresets","App","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.edd5592e.chunk.js","sourcesContent":["\nexport async function getImgBlob(imageUrl, imgId) {\n  if (imageUrl) {\n    let response = await fetch(imageUrl);\n    let data = await response.blob();\n    data.name = imgId;\n\n    return data;\n  }\n}\n\n// https://imgur.com/h961kWg\n// https://imgur.com/a/3AMDPNA\n\nexport function getImg(imageId, setImgData) {\n\n  let url = `https://api.imgur.com/3/image/${imageId}`;\n\n  const options = {\n    'method': 'GET',\n    'headers': {\n      'Authorization': `Client-ID ${process.env.REACT_APP_CLIENTID}`,\n    },\n    'maxRedirects': 20,\n  };\n\n  return fetch(url, options)\n    .then((res) => {\n      if (!res.ok || res.status < 200 || res.stauts >= 300) {\n        throw new Error(`Error ${res.status}: ${res.statusText}`);\n      }\n      return res.json()\n    })\n    .then((data) => {\n      const mime = /image/\n      if (!mime.test(data.data.type)) {\n        throw new Error(`Unsupported Filetype: ${data.data.type}`);\n      }\n      setImgData(data.data);\n    });\n}\n\nexport function getAlbum(albumId) {\n\n  let url = `https://api.imgur.com/3/album/${albumId}`;\n\n  const options = {\n    'method': 'GET',\n    'headers': {\n      'Authorization': `Client-ID ${process.env.REACT_APP_CLIENTID}`,\n    },\n    'maxRedirects': 20,\n  };\n\n  return fetch(url, options)\n    .then((res) => res.json())\n    .then((data) => { return data.data.images[0].id; })\n    .catch((err) => console.error(err));\n}\n\n\nexport function uploadImg(img, callback) {\n\n  img.data = img.data.toString().replace(/data:.+?,/, \"\")\n  let formData = {\n    'name': img.name,\n    'image': img.data,\n    'type': 'base64'\n  };\n\n  const form = new FormData();\n  for (let [key, value] of Object.entries(formData)) {\n    form.append(key, value);\n  }\n\n  const url = 'https://api.imgur.com/3/image';\n  const options = {\n    'method': 'POST',\n    'headers': {\n      'Authorization': `Client-ID ${process.env.REACT_APP_CLIENTID}`,\n    },\n    'maxRedirects': 20,\n    'body': form\n  };\n\n  return fetch(url, options)\n    .then((res) => res.json())\n    .then((data) => callback(data.data));\n}\n","import { useEffect, useRef } from 'react';\nimport { Button, Toast } from 'bootstrap';\n\nexport function PresetButton({ preset, presetName, onClick, active }) {\n  const buttonRef = useRef();\n\n  let myButton = buttonRef.current;\n  let bsButton = Button.getInstance(myButton);\n\n  if (!bsButton) { bsButton = new Button(myButton, { toggle: \"button\" }); }\n\n  return (\n    <div className=\"col p-1 d-grid\">\n      <button className={`preset btn btn-primary ${active ? 'active' : null}`}\n        ref={buttonRef} id={preset} onClick={(event) => { onClick(event) }} type=\"button\">\n        {`${presetName}`}\n      </button>\n    </div>\n  );\n}\n\nexport function NotificationToast({ toast, setToast, status, toastText }) {\n  const toastRef = useRef();\n\n  useEffect(() => {\n    let myToast = toastRef.current;\n    let bsToast = Toast.getInstance(myToast);\n\n    if (!bsToast) {\n      bsToast = new Toast(myToast, { autohide: false });\n    } else {\n      toast ? bsToast.show() : bsToast.hide();\n    }\n  }, [toast]);\n\n  return (\n    <>\n      <div className=\"position-fixed bottom-0 end-0 pe-3 pb-3\">\n        <div className=\"toast hide\" role=\"status\" aria-live=\"polite\" aria-atomic=\"true\" ref={toastRef}>\n          <div className=\"toast-header text-primary\">\n            <i className=\"bi bi-image-fill pe-1\"></i>\n            <strong className=\"me-auto\">Carmen Uploader</strong>\n            <small>{status ? \"Success\" : \"Failure\"}</small>\n            <button type=\"button\" className=\"btn-close\" aria-label=\"Close\"\n              onClick={() => setToast(toast => !toast)} />\n          </div>\n          <div className=\"toast-body text-dark\">{toastText}</div>\n        </div>\n      </div>\n    </>\n  );\n}\n","const resetValue = (event, init, onChange) => {\n  event.target.value = init;\n  event.target.name = event.target.attributes.name.value;\n  onChange(event, init);\n}\n\nconst FilterListItem = ({ filter, range, filterList, onChange }) => {\n  const min = range[\"min\"] != null ? range[\"min\"] : -100;\n  const max = range[\"max\"] != null ? range[\"max\"] : 100;\n  const step = range[\"step\"] || 1;\n  const init = range[\"init\"] || 0;\n  const curValue = (filterList[filter] != null) ? filterList[filter] : init;\n\n  return (\n    <div className=\"col\">\n      <div className=\"row gx-1 hover\">\n\n        <label name={filter} className=\"col-3 reset\" htmlFor={filter}\n          onClick={(event) => resetValue(event, init, onChange)}>{filter}</label>\n\n        <div className=\"col-8\">\n          <input id={filter} name={filter} className=\"form-range slider\"\n            type=\"range\" min={min} max={max} step={step}\n            value={curValue} onChange={(event) => onChange(event, init)} />\n        </div>\n\n        <span name={filter} className=\"col-1 reset\"\n          onClick={(event) => resetValue(event, init, onChange)}>{curValue}</span>\n\n      </div>\n    </div>\n  );\n};\n\nexport default FilterListItem;\n","import { PresetButton } from './Bootstrap'\nimport FilterListItem from './FilterListItem'\n\nexport function CreatePresetList({ presetList, onClick }) {\n  const presets = [\n    \"vintage\", \"lomo\", \"clarity\", \"sinCity\", \"sunrise\", \"crossProcess\", \"orangePeel\",\n    \"love\", \"grungy\", \"jarques\", \"pinhole\", \"oldBoot\", \"glowingSun\",\n    \"hazyDays\", \"herMajesty\", \"nostalgia\", \"hemingway\", \"concentrate\"\n  ];\n\n  const presetsPretty = [\n    \"Vintage\", \"Lomo\", \"Clarity\", \"Sin City\", \"Sunrise\", \"Cross Process\", \"Orange Peel\",\n    \"Love\", \"Grungy\", \"Jarques\", \"Pinhole\", \"Old Boot\", \"Glowing Sun\",\n    \"Hazy Days\", \"Her Majesty\", \"Nostalgia\", \"Hemingway\", \"Concentrate\"\n  ];\n\n  let buttonList = []\n  for (const [index, preset] of presets.entries()) {\n    let isActive = presetList[preset] ? true : false\n    buttonList.push(\n      <PresetButton key={preset} preset={preset} presetName={presetsPretty[index]}\n        onClick={onClick} active={isActive} />\n    )\n  }\n  return buttonList;\n}\n\nexport function CreateFilterList({ filterList, onChange }) {\n  // -100 to 100\n  const filtersFullRange = [\"brightness\", \"contrast\", \"vibrance\", \"saturation\", \"exposure\"];\n  // 0 to 100\n  const filtersHalfRange = [\"hue\", \"sepia\", \"noise\", \"sharpen\", \"clip\"];\n  const filtersSpecial = { \"gamma\": { \"min\": 0, \"init\": 1, \"max\": 10, \"step\": 0.1 } };\n\n  let rangeList = {}\n\n  const rangeFull = { \"min\": -100, \"init\": 0, \"max\": 100 }\n  // Must be for...of; for...in replaces names with indicies\n  for (const filter of filtersFullRange) { rangeList[filter] = rangeFull; }\n\n  const rangeHalf = { \"min\": 0, \"init\": 0, \"max\": 100 }\n  for (const filter of filtersHalfRange) { rangeList[filter] = rangeHalf; }\n  rangeList = { ...rangeList, ...filtersSpecial };\n\n  let filters = [];\n  // Must be for...in, rangeList isn't iterable\n  for (const filter in rangeList) {\n    filters.push(\n      <FilterListItem key={filter} filter={filter} range={rangeList[filter]}\n        filterList={filterList} onChange={onChange} />\n    )\n  }\n\n  return filters;\n}\n","export default \"data:image/jpeg;base64,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\"","import { useState, useEffect, useRef } from 'react';\nimport throttle from 'lodash/throttle';\n\nimport { getImg, getImgBlob, getAlbum, uploadImg } from './ImgurAPI'\nimport { CreatePresetList, CreateFilterList } from './CamanControls'\nimport { NotificationToast } from './Bootstrap'\n\n// import image from './../WP.png'\nimport image from './../142.jpg'\n\nconst caman = window.Caman;\n\n\n// TO DO:\n// channels {red: [-100,100], green: [-100,100], blue:[-100:100]}\n// stackBlur [0, 20]?\n// colorize [R,G,B, [0-100]] || ['#eee', [0-100]]\n// curves [[R,G,B], [P0x,P1x], [P2], [P3], [P4]]\n// fillColor [R,G,B] || ['#eee']\n// Greyscale(), Invert()\n\n// Stage 2\n// Crop, Resize, Preset strength, undo/redo\n// vignette, rectangularVignette, tiltShift, radialBlur,\n// boxBlur?, heavyRadialBlur, gaussianBlur, motionBlur,\n// edgeEnhance, edgeDetect, emboss, posterize,\n\n\nlet isRendering = false;\nlet prevRenderList = {}, curRenderList = {};\nlet backlog = 0;\nlet updateImgFn = () => { };\nconst throttledEventListen = throttle((curRenderList) => (updateImgFn(curRenderList)), 1000);\n\ncaman.Event.listen(\"processStart\", function (job) {\n  // console.log(\"Start:\", job.name);\n  isRendering = true;\n});\n\ncaman.Event.listen(\"processComplete\", function (job) {\n  // console.log(\"Finish:\", job.name);\n  isRendering = false;\n  backlog = 0;\n  if (JSON.stringify(prevRenderList) !== JSON.stringify(curRenderList)) {\n    // console.log(\"Updating from prev render\", prevRenderList, curRenderList)\n    // updateImgFn(curRenderList);\n    throttledEventListen(curRenderList);\n  }\n});\n\n\n// window.Caman.DEBUG = true\nlet htmlCanvas = \"#canvas\";\ncaman(htmlCanvas, image, function () {\n  this.render();\n});\n\nconst CamanCanvas = () => {\n  const [presetList, setPresetList] = useState({});\n  const [filterList, setFilterList] = useState({});\n  const [adjustmentList, setAdjustmentList] = useState({});\n  const [presetToggle, setPresetToggle] = useState(false);\n  const [filename, setFilename] = useState(\"\");\n  const [imgurImgData, setImgurImgData] = useState({});\n  const [toastDisplay, setToast] = useState(false);\n  const [toastInfo, setToastInfo] = useState({ 'success': true, 'text': '' });\n  const editPaneRef = useRef(null);\n  const imgurUrlRef = useRef(null);\n\n  updateImgFn = updateImage;  // Save function so Caman Event listener can call it\n\n\n  // Throttled could take an options object, but it appears to work fine with default\n  const throttled = useRef(throttle((adjustmentList) => (updateImage(adjustmentList)), 100));\n\n  /* Update the image after our adjustments change */\n  useEffect(() => {\n    // if (JSON.stringify(prevList) !== JSON.stringify(adjustmentList)) {\n    if (JSON.stringify(prevRenderList) !== JSON.stringify(adjustmentList)) {\n\n      if (!isRendering) {\n        if (backlog) { isRendering = true; }\n        throttled.current(adjustmentList);\n        backlog += 1;\n      }\n    }\n  }, [adjustmentList]);\n\n  /* Combine presets and filters into master adjustment list */\n  useEffect(() => {\n    const newList = { ...presetList, ...filterList }\n    setAdjustmentList(curRenderList = newList);\n  }, [filterList, presetList]);\n\n\n  /* Sliders Callback */\n  const updateFilters = (event, init) => {\n    const filter = event.target.name;\n    const value = parseFloat(event.target.value);\n    console.log(\"Updating\", filter);\n\n    let newList;\n    if (value === init) {\n      // console.log(`Reset ${filter} to default`)\n      newList = { ...filterList };\n      delete newList[filter];\n    } else {\n      newList = { ...filterList, [filter]: value };\n    }\n\n    // if (JSON.stringify(newList) !== JSON.stringify(filterList)) {\n    setFilterList(newList);\n    // }\n  }\n\n  /* Button Callback */\n  const updatePresets = (event) => {\n    const preset = event.target.id;\n\n    let currentPresets = {};\n    if (!presetList[preset]) { currentPresets[preset] = 1; }\n\n    setPresetList(currentPresets);\n  }\n\n\n  function updateImage(adjustmentList) {\n    prevRenderList = adjustmentList;\n    caman(htmlCanvas, function () {\n      console.log(\"~~~~ UPDATE IMAGE ~~~~\")\n      console.log(adjustmentList)\n\n      this.revert(false);\n      for (const filter in adjustmentList) {\n\n        if (this[filter]) {\n          this[filter](adjustmentList[filter]);\n        } else {\n          console.log(`${filter} is not a valid filter.`);\n          let newList = { ...adjustmentList };\n          delete newList[filter];\n          // Invalid filters will usually be at the end of the list because they get removed each render\n          // So we can just render and it will look okay until the updated re-render\n          this.render();\n          setAdjustmentList(newList);\n          return;\n        }\n      }\n      this.render();\n    });\n  }\n\n\n\n  /* Take an image object and update the canvas */\n  function updateCanvas(img) {\n    let parent = editPaneRef.current;\n    let canvas = parent.firstChild;\n    let context = canvas.getContext(\"2d\");\n\n    canvas.width = img.width;\n    canvas.height = img.height;\n    context.drawImage(img, 0, 0, img.width, img.height);\n    canvas.removeAttribute(\"data-caman-id\");\n\n    updateImage(adjustmentList);\n  }\n\n  /* Read a file and upate the canvas */\n  function setImage(file) {\n    const reader = new FileReader();\n    if (file) {\n      setFilename(file.name);\n      // read data as URL\n      reader.readAsDataURL(file);\n    }\n\n    reader.onload = () => {\n      let img = new Image();\n      img.src = reader.result;\n\n      img.onload = () => { updateCanvas(img); };\n    };\n  }\n\n  /* Take the file from the file browser and set it */\n  function uploadFile(event) {\n    const file = event.target.files[0];\n    setImage(file);\n  }\n\n  function downloadImage() {\n\n    let newFilename = filename ? (\"carmen-edited_\" + filename) : \"carmen-edited.jpg\"\n    console.log(\"Downloading\", newFilename);\n\n    let parent = editPaneRef.current;\n    let canvas = parent.firstChild;\n\n    // create link\n    const link = document.createElement(\"a\");\n    link.download = newFilename;\n    link.href = canvas.toDataURL(\"image/jpeg\", 1);\n    let e = new MouseEvent(\"click\");\n    link.dispatchEvent(e);\n  }\n\n\n  /* Imgur Functions */\n  async function importImgur() {\n    let form = imgurUrlRef.current;\n    let value = form.value;\n\n    if (!value) {\n      setToastInfo({ 'success': false, 'text': \"Must provide an Imgur URL\" })\n      setToast(true);\n      return;\n    }\n\n    // imageID is 7 chars long\n    const regex = /\\w{7}/g\n    const album = /\\/gallery\\/|\\/a\\//g\n\n    let imgId;\n    if (album.test(value)) {\n      imgId = value.split(album)[1];\n      imgId = imgId.substring(0, 7)  // In case anything is after the id\n\n      // Do album look up to get real cover imgId\n      imgId = await getAlbum(imgId);\n      console.log(imgId);\n\n    } else if (regex.test(value)) {\n      imgId = value.match(regex)[0];\n      console.log(imgId);\n\n    } else {\n      setToastInfo({ 'success': false, 'text': \"No Imgur Image ID found. Please use the direct URL to the image.\" });\n      setToast(true);\n      return;\n    }\n\n    // Get imgId URL and update canvas\n    getImg(imgId, setImgurImgData)\n      .then(() => {\n        setToastInfo({ 'success': true, 'text': '' });\n        setToast(false);\n      })\n      .catch((err) => {\n        console.log(err.message);\n        setToastInfo({ 'success': false, 'text': err.message });\n        setToast(true);\n      });\n  }\n\n  useEffect(() => {\n    getImgBlob(imgurImgData.link, imgurImgData.id)\n      .then(result => setImage(result))\n      .catch((err) => console.error(err));\n  }, [imgurImgData]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  function exportImgur() {\n    let newFilename = filename ? (\"carmen-edited_\" + filename) : \"carmen-edited.jpg\"\n    let parent = editPaneRef.current;\n    let canvas = parent.firstChild;\n\n    let img = {};\n    img.name = newFilename;\n    img.data = canvas.toDataURL(\"image/jpeg\", 1);\n\n    try {\n      uploadImg(img, uploadConfirmation);\n    } catch (err) {\n      console.log(err);\n      setToastInfo({ 'success': false, 'text': err.message });\n      setToast(true);\n    }\n  }\n\n  /* Display a toast for either success or failure */\n  function uploadConfirmation(result) {\n    console.log(result);\n\n    if (!result || result.error) {\n      setToastInfo({ 'success': false, 'text': `Error: ${result?.error || \"Unknown Error\"}` });\n      setToast(true);\n      return;\n    }\n\n    let link = result.link || '';\n    let deletehash = result.deletehash || '';\n\n    let header = /http(s)?:\\/\\/(www.)?/g\n    let displayLink = link.replace(header, \"\");\n\n    let a = <a href={link} target=\"_blank\" rel=\"noreferrer\">{displayLink}</a>\n    let div = <div>Image uploaded to {a}. The code to delete it is <samp>{deletehash}</samp>.</div>;\n    setToastInfo({ 'success': true, 'text': div });\n    setToast(true);\n  }\n\n\n  return (\n    <>\n      <div id=\"editPane\" ref={editPaneRef} className=\"edit-pane bg-gray container-lg text-center p-4 lh-1\">\n        <img id=\"canvas\" alt=\"Editing Canvas\" className=\"img-fluid\" aria-label=\"Editing Canvas\" src={image} />\n      </div>\n\n      <NotificationToast toast={toastDisplay} setToast={setToast}\n        status={toastInfo.success} toastText={toastInfo.text} />\n\n      <div className=\"row my-2 d-flex align-items-end\">\n        <div className=\"col\">\n          <label htmlFor=\"formImgur\" className=\"form-label\">Import Image from or Upload to Imgur</label>\n          <input className=\"form-control\" id=\"formImgur\" ref={imgurUrlRef} type=\"text\"\n            placeholder=\"https://imgur.com/...\" aria-labelledby=\"formImgur\" required />\n        </div>\n        <div className=\"col col-auto text-center ps-0\">\n          <button id=\"downloadImage\" className=\"btn btn-primary\" type=\"submit\" onClick={importImgur}>\n            <i className=\"d-block d-md-none bi bi-cloud-download\" />\n            <span className=\"d-none d-md-block\">Import from Imgur</span>\n          </button>\n        </div>\n        <div className=\"col col-auto text-center ps-0\">\n          <button id=\"downloadImage\" className=\"btn btn-primary\" onClick={exportImgur}>\n            <i className=\"d-block d-md-none bi bi-cloud-upload\" />\n            <span className=\"d-none d-md-block\">Upload to Imgur</span>\n          </button>\n        </div>\n      </div>\n\n      <div className=\"row my-2 d-flex align-items-end\">\n        <div className=\"col\">\n          <label htmlFor=\"formFile\" className=\"form-label\">Upload Image from Device</label>\n          <input className=\"form-control\" type=\"file\" id=\"formFile\" accept=\"image/*\"\n            aria-labelledby=\"formFile\" onChange={uploadFile} />\n        </div>\n        <div className=\"col col-auto text-center ps-0\">\n          <button id=\"downloadImage\" className=\"btn btn-primary\" onClick={downloadImage}>\n            <i className=\"d-block d-md-none bi bi-download\" />\n            <span className=\"d-none d-md-block\">Download Image</span>\n          </button>\n        </div>\n      </div>\n\n      <div id=\"filterHolder\">\n        <div id=\"filterList\" className=\"container overflow-hidden bg-dark text-center my-3 p-2\">\n\n          <div className=\"row row-cols-1 row-cols-md-2 center\">\n            <CreateFilterList filterList={filterList} onChange={updateFilters} />\n          </div>\n\n          <hr />\n          <div className=\"py-2\">\n            <button className=\"btn btn-primary\" onClick={() => setPresetToggle(!presetToggle)}\n              data-bs-target=\"#collapseTarget\" data-bs-toggle=\"collapse\">\n              <i className={\"px-2 bi \" + (presetToggle ? \"bi-chevron-compact-up\" : \"bi-chevron-compact-down\")} />\n              Presets\n              <i className={\"px-2 bi \" + (presetToggle ? \"bi-chevron-compact-up\" : \"bi-chevron-compact-down\")} />\n            </button>\n            <div className=\"collapse pt-2\" id=\"collapseTarget\">\n              <div className=\"row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 m-1\">\n                <CreatePresetList presetList={presetList} onClick={updatePresets} />\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n    </>\n  );\n}\n\nexport default CamanCanvas;\n","import CamanCanvas from './components/CamanCanvas'\n\nfunction App() {\n\n  return (\n    <div className=\"App container text-light\">\n\n      <div className=\"bg-dark px-4 py-1 my-3\">\n        <h1 className=\"text-primary display-2\">\n          <i className=\"bi bi-image-fill\"></i> Carmen\n        </h1>\n        <div>\n          Caman + React <span className=\"vertical-line\"> </span>\n          Browser Based Image Editing <span className=\"vertical-line\"> </span>\n          <a href=\"http://camanjs.com/\">CamanJS</a> <span className=\"vertical-line\"> </span>\n          <a href=\"https://github.com/Martination/carmen\">\n            GitHub Repo</a>\n        </div>\n      </div>\n\n      <CamanCanvas />\n\n      <div className=\"text-center pb-3\">\n        &#169; 2021 <a href=\"https://martination.github.io/\">Martin Green</a>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./custom.scss\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}