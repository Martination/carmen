(this.webpackJsonpcarmen=this.webpackJsonpcarmen||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(13),i=n.n(s),r=n(6),l=n(0),o=n(3),j=n(14),d=n(10),b=n(9),u=n.n(b),m=n(1),g=function(e,t,n){e.target.value=t,e.target.name=e.target.attributes.name.value,n(e,t)},h=function(e){var t=e.filter,n=e.range,a=e.filterList,c=e.onChange,s=null!=n.min?n.min:-100,i=null!=n.max?n.max:100,r=n.step||1,l=n.init||0,o=null!=a[t]?a[t]:l;return Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("div",{className:"row gx-1 hover",children:[Object(m.jsx)("label",{name:t,className:"col-3",onClick:function(e){return g(e,l,c)},children:t}),Object(m.jsx)("div",{className:"col-8",children:Object(m.jsx)("input",{id:t,name:t,className:"form-range slider",type:"range",min:s,max:i,step:r,value:o,onChange:function(e){return c(e,l)}})}),Object(m.jsx)("span",{name:t,className:"col-1",onClick:function(e){return g(e,l,c)},children:o})]})})},O=n.p+"static/media/WP.394371ca.png",v=window.Caman;function f(e){var t=e.preset,n=e.presetName,c=e.onClick,s=e.active,i=Object(a.useRef)(),r=i.current,l=d.a.getInstance(r);return l||(l=new d.a(r,{toggle:"button"})),Object(m.jsx)("div",{className:"col p-1 d-grid",children:Object(m.jsx)("button",{className:"btn btn-primary ".concat(s?"active":null),ref:i,id:t,onClick:function(e){c(e)},type:"button",children:"".concat(n)})})}function p(e){var t,n=e.presetList,a=e.onClick,c=["Vintage","Lomo","Clarity","Sin City","Sunrise","Cross Process","Orange Peel","Love","Grungy","Jarques","Pinhole","Old Boot","Glowing Sun","Hazy Days","Her Majesty","Nostalgia","Hemingway","Concentrate"],s=[],i=Object(j.a)(["vintage","lomo","clarity","sinCity","sunrise","crossProcess","orangePeel","love","grungy","jarques","pinhole","oldBoot","glowingSun","hazyDays","herMajesty","nostalgia","hemingway","concentrate"].entries());try{for(i.s();!(t=i.n()).done;){var r=Object(o.a)(t.value,2),l=r[0],d=r[1],b=!!n[d];s.push(Object(m.jsx)(f,{preset:d,presetName:c[l],onClick:a,active:b},d))}}catch(u){i.e(u)}finally{i.f()}return s}function x(e,t){for(var n={},a={min:-100,init:0,max:100},c=0,s=["brightness","contrast","vibrance","saturation","exposure"];c<s.length;c++){n[s[c]]=a}for(var i={min:0,init:0,max:100},r=0,o=["hue","sepia","noise","sharpen","clip"];r<o.length;r++){n[o[r]]=i}n=Object(l.a)(Object(l.a)({},n),{gamma:{min:0,init:1,max:10,step:.1}});var j=[];for(var d in n)j.push(Object(m.jsx)(h,{filter:d,range:n[d],filterList:e,onChange:t},d));return j}var y=!1,N={},C={},w=0,S=function(){},k=u()((function(e){return S(e)}),1e3);v.Event.listen("processStart",(function(e){y=!0})),v.Event.listen("processComplete",(function(e){y=!1,w=0,JSON.stringify(N)!==JSON.stringify(C)&&k(C)}));var E=function(){S=J;var e="#canvas";v(e,O,(function(){this.render()}));var t=Object(a.useState)({}),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)({}),j=Object(o.a)(i,2),d=j[0],b=j[1],g=Object(a.useState)({}),h=Object(o.a)(g,2),f=h[0],k=h[1],E=Object(a.useRef)(u()((function(e){return J(e)}),100));Object(a.useEffect)((function(){JSON.stringify(N)!==JSON.stringify(f)&&(y||(w&&(y=!0),E.current(f),w+=1))}),[f]),Object(a.useEffect)((function(){var e=Object(l.a)(Object(l.a)({},c),d);k(C=e)}),[d,c]);function J(t){N=t,v(e,(function(){for(var e in console.log("~~~~ UPDATE IMAGE ~~~~"),console.log(t),this.revert(!1),t){if(!this[e]){console.log("".concat(e," is not a valid filter."));var n=Object(l.a)({},t);return delete n[e],this.render(),void k(n)}this[e](t[e])}this.render()}))}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"edit-pane bg-gray container-lg text-center p-4 lh-1",children:Object(m.jsx)("img",{alt:"Editing Canvas",className:"img-fluid",id:"canvas",src:O})}),Object(m.jsx)("div",{id:"filterHolder",children:Object(m.jsxs)("div",{id:"filterList",className:"container overflow-hidden bg-dark text-center my-3 p-2",children:[Object(m.jsx)("div",{className:"row row-cols-1 row-cols-md-2 center",children:x(d,(function(e,t){var n,a=e.target.name,c=parseFloat(e.target.value);console.log("Updating",a),c===t?(console.log("Reset ".concat(a," to default")),delete(n=Object(l.a)({},d))[a]):n=Object(l.a)(Object(l.a)({},d),{},Object(r.a)({},a,c)),b(n)}))}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:"py-2",children:[Object(m.jsx)("button",{className:"btn btn-primary","data-bs-target":"#collapseTarget","data-bs-toggle":"collapse",children:"vv Presets vv"}),Object(m.jsx)("div",{className:"collapse pt-2",id:"collapseTarget",children:Object(m.jsx)("div",{className:"row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 m-1",children:Object(m.jsx)(p,{presetList:c,onClick:function(e){var t=e.target.id,n={};c[t]||(n[t]=1),s(n)}})})})]})]})})]})};var J=function(){return Object(m.jsxs)("div",{className:"App text-light",children:[Object(m.jsxs)("div",{className:"container bg-dark px-4 py-1 my-3",children:[Object(m.jsxs)("h1",{className:"text-primary display-2",children:[Object(m.jsx)("i",{className:"bi bi-image-fill"})," Carmen"]}),Object(m.jsxs)("div",{children:["Caman + React ",Object(m.jsx)("span",{className:"vertical-line",children:" "}),"Browser Based Image Editing ",Object(m.jsx)("span",{className:"vertical-line",children:" "}),Object(m.jsx)("a",{href:"http://camanjs.com/",children:"CamanJS"})," ",Object(m.jsx)("span",{className:"vertical-line",children:" "}),Object(m.jsx)("a",{href:"https://github.com/Martination/carmen",children:"GitHub Repo"})]})]}),Object(m.jsx)(E,{}),Object(m.jsxs)("div",{className:"text-center pb-3",children:["\xa9 2021 ",Object(m.jsx)("a",{href:"https://martination.github.io/",children:"Martin Green"})]})]})};n(32);i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(J,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.6d730950.chunk.js.map