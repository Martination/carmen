(this["webpackJsonpcaman-react"]=this["webpackJsonpcaman-react"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(13),i=n.n(r),s=n(6),o=n(0),l=n(3),u=n(14),j=n(10),d=n(9),b=n.n(d),m=n(1),g=function(e,t,n){e.target.value=t,e.target.name=e.target.attributes.name.value,n(e,t)},f=function(e){var t=e.filter,n=e.range,a=e.filterList,c=e.onChange,r=null!=n.min?n.min:-100,i=null!=n.max?n.max:100,s=n.step||1,o=n.init||0,l=null!=a[t]?a[t]:o;return Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("div",{className:"row gx-1 hover",children:[Object(m.jsx)("label",{name:t,className:"col-3",onClick:function(e){return g(e,o,c)},children:t}),Object(m.jsx)("div",{className:"col-8",children:Object(m.jsx)("input",{id:t,name:t,className:"form-range slider",type:"range",min:r,max:i,step:s,value:l,onChange:function(e){return c(e,o)}})}),Object(m.jsx)("span",{name:t,className:"col-1",onClick:function(e){return g(e,o,c)},children:l})]})})},O=window.Caman;function v(e){var t=e.preset,n=e.presetName,c=e.onClick,r=e.active,i=Object(a.useRef)(),s=i.current,o=j.a.getInstance(s);return o||(o=new j.a(s,{toggle:"button"})),Object(m.jsx)("div",{className:"col p-1 d-grid",children:Object(m.jsx)("button",{className:"btn btn-primary ".concat(r?"active":null),ref:i,id:t,onClick:function(e){c(e)},type:"button",children:"".concat(n)})})}function h(e){var t,n=e.presetList,a=e.onClick,c=["Vintage","Lomo","Clarity","Sin City","Sunrise","Cross Process","Orange Peel","Love","Grungy","Jarques","Pinhole","Old Boot","Glowing Sun","Hazy Days","Her Majesty","Nostalgia","Hemingway","Concentrate"],r=[],i=Object(u.a)(["vintage","lomo","clarity","sinCity","sunrise","crossProcess","orangePeel","love","grungy","jarques","pinhole","oldBoot","glowingSun","hazyDays","herMajesty","nostalgia","hemingway","concentrate"].entries());try{for(i.s();!(t=i.n()).done;){var s=Object(l.a)(t.value,2),o=s[0],j=s[1],d=!!n[j];r.push(Object(m.jsx)(v,{preset:j,presetName:c[o],onClick:a,active:d},j))}}catch(b){i.e(b)}finally{i.f()}return r}function p(e,t){for(var n={},a={min:-100,init:0,max:100},c=0,r=["brightness","contrast","vibrance","saturation","exposure"];c<r.length;c++){n[r[c]]=a}for(var i={min:0,init:0,max:100},s=0,l=["hue","sepia","noise","sharpen","clip"];s<l.length;s++){n[l[s]]=i}n=Object(o.a)(Object(o.a)({},n),{gamma:{min:0,init:1,max:10,step:.1}});var u=[];for(var j in n)u.push(Object(m.jsx)(f,{filter:j,range:n[j],filterList:e,onChange:t},j));return u}var x="WP.png",y="#canvas";O(y,x,(function(){this.render()}));var N=!1,w={},C={},S=0,k=function(){},E=b()((function(e){return k(e)}),1e3);O.Event.listen("processStart",(function(e){N=!0})),O.Event.listen("processComplete",(function(e){N=!1,S=0,JSON.stringify(w)!==JSON.stringify(C)&&E(C)}));var J=function(){k=J;var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),i=Object(l.a)(r,2),u=i[0],j=i[1],d=Object(a.useState)({}),g=Object(l.a)(d,2),f=g[0],v=g[1],E=Object(a.useRef)(b()((function(e){return J(e)}),100));Object(a.useEffect)((function(){JSON.stringify(w)!==JSON.stringify(f)&&(N||(S&&(N=!0),E.current(f),S+=1))}),[f]),Object(a.useEffect)((function(){var e=Object(o.a)(Object(o.a)({},n),u);v(C=e)}),[u,n]);function J(e){w=e,O(y,(function(){for(var t in console.log("~~~~ UPDATE IMAGE ~~~~"),console.log(e),this.revert(!1),e){if(!this[t]){console.log("".concat(t," is not a valid filter."));var n=Object(o.a)({},e);return delete n[t],this.render(),void v(n)}this[t](e[t])}this.render()}))}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"edit-pane bg-gray container-lg text-center p-4 lh-1",children:Object(m.jsx)("img",{alt:"Editing Canvas",className:"img-fluid",id:"canvas",src:x})}),Object(m.jsx)("div",{id:"filterHolder",children:Object(m.jsxs)("div",{id:"filterList",className:"container overflow-hidden bg-dark text-center my-3 p-2",children:[Object(m.jsx)("div",{className:"row row-cols-1 row-cols-md-2 center",children:p(u,(function(e,t){var n,a=e.target.name,c=parseFloat(e.target.value);console.log("Updating",a),c===t?(console.log("Reset ".concat(a," to default")),delete(n=Object(o.a)({},u))[a]):n=Object(o.a)(Object(o.a)({},u),{},Object(s.a)({},a,c)),j(n)}))}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 m-1",children:Object(m.jsx)(h,{presetList:n,onClick:function(e){var t=e.target.id,a={};n[t]||(a[t]=1),c(a)}})})]})})]})};var L=function(){return Object(m.jsxs)("div",{className:"App text-light",children:[Object(m.jsx)("div",{className:"container bg-dark px-4 py-1 my-3",children:Object(m.jsxs)("h1",{className:"text-primary display-2",children:[Object(m.jsx)("i",{className:"bi bi-image-fill"})," Caman + React"]})}),Object(m.jsx)(J,{})]})};n(32);i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.7b37694c.chunk.js.map